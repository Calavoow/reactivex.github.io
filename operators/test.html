<!DOCTYPE HTML>
<html>
  <head>
    <style>
      body {
        margin: 0px;
        padding: 0px;
      }
    </style>
  </head>
  <body>
    <canvas id="rxCanvas" width="578" height="400"></canvas>
    <script>
     
        var canvas = document.getElementById('rxCanvas');

        arrow = function (ctx, fromx, tox, y) {
            var headlen = 25;   // length of head in pixels
            ctx.beginPath();
            ctx.lineWidth = 5;
            ctx.moveTo(fromx, y);
            ctx.lineTo(tox, y);
            ctx.moveTo(tox, y - 0.5*headlen);
            ctx.lineTo(tox+headlen, y);
            ctx.lineTo(tox, y + 0.5*headlen);
            ctx.closePath();
            ctx.stroke();
        } 

        circle = function (ctx, centerx, centery, radius) {
            // draw circle
            ctx.beginPath();
            ctx.arc(centerx, centery, radius, 0, 2 * Math.PI, false);
            ctx.fillStyle = 'green';
            ctx.fill();
            ctx.lineWidth = 5;
            ctx.strokeStyle = '#003300';
            ctx.stroke();
        }

        render = function (canvas, evt) {
            var ctx = canvas.getContext('2d');
            var mousePos = getMousePos(canvas, evt);
            var message = 'Mouse position: ' + mousePos.x + ',' + mousePos.y;
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            ctx.font = '18pt Calibri';
            ctx.fillStyle = 'black';
            ctx.fillText(message, 10, 25);

            //var centerX = canvas.width / 2;
            //var centerY = canvas.height / 2;
            var radius = 30;
            var y = canvas.height / 2;
            arrow (ctx, 10, 200, y);
            circle (ctx, mousePos.x, y, radius);
        }

        getMousePos = function (canvas, evt) {
            var rect = canvas.getBoundingClientRect();
            return evt != null ? { x: evt.clientX - rect.left,
                                   y: evt.clientY - rect.top } 
                               : { x: 0, y: 0};
        }
        
        canvas.addEventListener('mousemove', function(evt) {
            render (canvas, evt);
        }, false);

        render (canvas, null);

    </script>
  </body>
</html>
